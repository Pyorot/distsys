0 → follower | init
1 → follower | init
2 → follower | init
3 → follower | init
4 → follower | init
Test (2B): basic agreement ...
1 input x 100
2 input x 100
3 input x 100
4 input x 100
0 input x 100
2 → candidate | timeout
2 x follower
2 requested votes | 1
RequestVote: 2 > 0
RequestVote: 2 > 1
RequestVote: 2 > 4
RequestVote: 2 > 3
0 - follower | tS fail (RequestVote receiver)
RequestVote: 2 < 0 | 1 vs 0 | react true | vote: true
RequestVote: 2 - 0 | 1 vs 0
1 - follower | tS fail (RequestVote receiver)
4 - follower | tS fail (RequestVote receiver)
RequestVote: 2 < 4 | 1 vs 0 | react true | vote: true
RequestVote: 2 < 1 | 1 vs 0 | react true | vote: true
3 - follower | tS fail (RequestVote receiver)
RequestVote: 2 < 3 | 1 vs 0 | react true | vote: true
RequestVote: 2 - 1 | 1 vs 0
2 received votes
2 → leader | elected (3 votes; term 1)
H> 2 1 1
RequestVote: 2 - 3 | 1 vs 0
AppendEntries: 2 > 0
AppendEntries: 2 > 1
AppendEntries: 2 > 3
RequestVote: 2 - 4 | 1 vs 0
AppendEntries: 2 > 4
AppendEntries: 2 < 1 | 1 vs 1 | react true | success true
AppendEntries: 2 < 3 | 1 vs 1 | react true | success true
AppendEntries: 2 < 0 | 1 vs 1 | react true | success true
AppendEntries: 2 < 4 | 1 vs 1 | react true | success true
AppendEntries: 2 - 3 | 1 vs 1
AppendEntries: 2 - 1 | 1 vs 1
0 - follower | reset
1 - follower | reset
4 - follower | reset
3 - follower | reset
AppendEntries: 2 - 0 | 1 vs 1
AppendEntries: 2 - 4 | 1 vs 1
1 input x 100
2 input o 1 100
H< 2 1 1
H- 2 1 1 | nextIndex [1 1 1 1 1] | matchIndex [0 0 0 0 0] | lastLogIndex 1 | time 0.1062343
H> 2 1 2
AppendEntries: 2 > 4
AppendEntries: 2 > 1
AppendEntries: 2 < 4 | 1 vs 1 | react true | success true
1 - follower | reset
0 - follower | reset
AppendEntries: 2 > 0
AppendEntries: 2 - 4 | 1 vs 1
AppendEntries: 2 < 1 | 1 vs 1 | react true | success true
AppendEntries: 2 - 1 | 1 vs 1
AppendEntries: 2 > 3
AppendEntries: 2 < 0 | 1 vs 1 | react true | success true
3 - follower | reset
4 - follower | reset
AppendEntries: 2 < 3 | 1 vs 1 | react true | success true
AppendEntries: 2 - 0 | 1 vs 1
AppendEntries: 2 - 3 | 1 vs 1
H< 2 1 2
H- 2 1 2 | nextIndex [2 2 1 2 2] | matchIndex [1 1 0 1 1] | lastLogIndex 1 | time 0.1057081
H> 2 1 3
2 output 1
AppendEntries: 2 > 4
AppendEntries: 2 > 1
AppendEntries: 2 > 3
AppendEntries: 2 > 0
AppendEntries: 2 < 4 | 1 vs 1 | react true | success true
AppendEntries: 2 < 1 | 1 vs 1 | react true | success true
AppendEntries: 2 < 3 | 1 vs 1 | react true | success true
1 - follower | reset
AppendEntries: 2 - 4 | 1 vs 1
0 - follower | reset
3 - follower | reset
4 - follower | reset
AppendEntries: 2 - 3 | 1 vs 1
AppendEntries: 2 - 1 | 1 vs 1
AppendEntries: 2 < 0 | 1 vs 1 | react true | success true
AppendEntries: 2 - 0 | 1 vs 1
H< 2 1 3
H- 2 1 3 | nextIndex [2 2 1 2 2] | matchIndex [1 1 0 1 1] | lastLogIndex 1 | time 0.1057218
H> 2 1 4
AppendEntries: 2 > 4
AppendEntries: 2 > 1
AppendEntries: 2 > 0
AppendEntries: 2 > 3
AppendEntries: 2 < 1 | 1 vs 1 | react true | success true
3 - follower | reset
AppendEntries: 2 < 0 | 1 vs 1 | react true | success true
1 - follower | reset
0 - follower | reset
AppendEntries: 2 < 4 | 1 vs 1 | react true | success true
AppendEntries: 2 < 3 | 1 vs 1 | react true | success true
AppendEntries: 2 - 1 | 1 vs 1
AppendEntries: 2 - 0 | 1 vs 1
4 - follower | reset
AppendEntries: 2 - 4 | 1 vs 1
AppendEntries: 2 - 3 | 1 vs 1
H< 2 1 4
H- 2 1 4 | nextIndex [2 2 1 2 2] | matchIndex [1 1 0 1 1] | lastLogIndex 1 | time 0.1057201
H> 2 1 5
AppendEntries: 2 > 4
AppendEntries: 2 > 1
AppendEntries: 2 > 0
AppendEntries: 2 > 3
AppendEntries: 2 < 0 | 1 vs 1 | react true | success true
1 - follower | reset
AppendEntries: 2 < 3 | 1 vs 1 | react true | success true
AppendEntries: 2 < 1 | 1 vs 1 | react true | success true
AppendEntries: 2 - 0 | 1 vs 1
0 - follower | reset
AppendEntries: 2 < 4 | 1 vs 1 | react true | success true
AppendEntries: 2 - 1 | 1 vs 1
3 - follower | reset
AppendEntries: 2 - 3 | 1 vs 1
4 - follower | reset
AppendEntries: 2 - 4 | 1 vs 1
H< 2 1 5
H- 2 1 5 | nextIndex [2 2 1 2 2] | matchIndex [1 1 0 1 1] | lastLogIndex 1 | time 0.1057109
H> 2 1 6
AppendEntries: 2 > 4
AppendEntries: 2 > 3
AppendEntries: 2 > 1
AppendEntries: 2 > 0
AppendEntries: 2 < 1 | 1 vs 1 | react true | success true
1 - follower | reset
AppendEntries: 2 < 0 | 1 vs 1 | react true | success true
0 - follower | reset
AppendEntries: 2 < 4 | 1 vs 1 | react true | success true
3 - follower | reset
AppendEntries: 2 < 3 | 1 vs 1 | react true | success true
4 - follower | reset
AppendEntries: 2 - 1 | 1 vs 1
AppendEntries: 2 - 0 | 1 vs 1
AppendEntries: 2 - 4 | 1 vs 1
AppendEntries: 2 - 3 | 1 vs 1
H< 2 1 6
H- 2 1 6 | nextIndex [2 2 1 2 2] | matchIndex [1 1 0 1 1] | lastLogIndex 1 | time 0.1051711
H> 2 1 7
AppendEntries: 2 > 4
AppendEntries: 2 > 1
AppendEntries: 2 > 3
AppendEntries: 2 > 0
AppendEntries: 2 < 3 | 1 vs 1 | react true | success true
0 - follower | reset
1 - follower | reset
AppendEntries: 2 < 4 | 1 vs 1 | react true | success true
AppendEntries: 2 - 3 | 1 vs 1
3 - follower | reset
AppendEntries: 2 < 1 | 1 vs 1 | react true | success true
4 - follower | reset
AppendEntries: 2 < 0 | 1 vs 1 | react true | success true
AppendEntries: 2 - 4 | 1 vs 1
AppendEntries: 2 - 1 | 1 vs 1
AppendEntries: 2 - 0 | 1 vs 1
H< 2 1 7
H- 2 1 7 | nextIndex [2 2 1 2 2] | matchIndex [1 1 0 1 1] | lastLogIndex 1 | time 0.1057138
H> 2 1 8
AppendEntries: 2 > 4
AppendEntries: 2 > 1
AppendEntries: 2 > 0
AppendEntries: 2 > 3
AppendEntries: 2 < 1 | 1 vs 1 | react true | success true
AppendEntries: 2 < 4 | 1 vs 1 | react true | success true
AppendEntries: 2 < 0 | 1 vs 1 | react true | success true
AppendEntries: 2 - 1 | 1 vs 1
AppendEntries: 2 < 3 | 1 vs 1 | react true | success true
AppendEntries: 2 - 0 | 1 vs 1
AppendEntries: 2 - 4 | 1 vs 1
1 - follower | reset
3 - follower | reset
4 - follower | reset
0 - follower | reset
AppendEntries: 2 - 3 | 1 vs 1
H< 2 1 8
H- 2 1 8 | nextIndex [2 2 1 2 2] | matchIndex [1 1 0 1 1] | lastLogIndex 1 | time 0.1067265
H> 2 1 9
AppendEntries: 2 > 4
AppendEntries: 2 > 1
AppendEntries: 2 > 3
AppendEntries: 2 > 0
1 - follower | reset
AppendEntries: 2 < 4 | 1 vs 1 | react true | success true
AppendEntries: 2 < 1 | 1 vs 1 | react true | success true
AppendEntries: 2 - 4 | 1 vs 1
3 - follower | reset
AppendEntries: 2 < 3 | 1 vs 1 | react true | success true
0 - follower | reset
4 - follower | reset
AppendEntries: 2 < 0 | 1 vs 1 | react true | success true
AppendEntries: 2 - 3 | 1 vs 1
AppendEntries: 2 - 1 | 1 vs 1
AppendEntries: 2 - 0 | 1 vs 1
H< 2 1 9
H- 2 1 9 | nextIndex [2 2 1 2 2] | matchIndex [1 1 0 1 1] | lastLogIndex 1 | time 0.1057542
H> 2 1 10
AppendEntries: 2 > 4
AppendEntries: 2 > 1
AppendEntries: 2 > 0
AppendEntries: 2 > 3
AppendEntries: 2 < 0 | 1 vs 1 | react true | success true
0 - follower | reset
1 - follower | reset
AppendEntries: 2 < 4 | 1 vs 1 | react true | success true
AppendEntries: 2 - 0 | 1 vs 1
AppendEntries: 2 < 3 | 1 vs 1 | react true | success true
AppendEntries: 2 < 1 | 1 vs 1 | react true | success true
4 - follower | reset
AppendEntries: 2 - 3 | 1 vs 1
3 - follower | reset
AppendEntries: 2 - 4 | 1 vs 1
AppendEntries: 2 - 1 | 1 vs 1
H< 2 1 10
H- 2 1 10 | nextIndex [2 2 1 2 2] | matchIndex [1 1 0 1 1] | lastLogIndex 1 | time 0.1059612
H> 2 1 11
AppendEntries: 2 > 4
AppendEntries: 2 > 1
AppendEntries: 2 > 0
AppendEntries: 2 > 3
AppendEntries: 2 < 4 | 1 vs 1 | react true | success true
1 - follower | reset
0 - follower | reset
AppendEntries: 2 < 1 | 1 vs 1 | react true | success true
AppendEntries: 2 < 3 | 1 vs 1 | react true | success true
AppendEntries: 2 - 4 | 1 vs 1
4 - follower | reset
3 - follower | reset
AppendEntries: 2 - 3 | 1 vs 1
AppendEntries: 2 - 1 | 1 vs 1
AppendEntries: 2 < 0 | 1 vs 1 | react true | success true
AppendEntries: 2 - 0 | 1 vs 1
H< 2 1 11
H- 2 1 11 | nextIndex [2 2 1 2 2] | matchIndex [1 1 0 1 1] | lastLogIndex 1 | time 0.1067754
H> 2 1 12
AppendEntries: 2 > 4
AppendEntries: 2 > 1
AppendEntries: 2 > 0
AppendEntries: 2 > 3
AppendEntries: 2 < 4 | 1 vs 1 | react true | success true
AppendEntries: 2 < 1 | 1 vs 1 | react true | success true
AppendEntries: 2 - 4 | 1 vs 1
1 - follower | reset
4 - follower | reset
0 - follower | reset
3 - follower | reset
AppendEntries: 2 < 0 | 1 vs 1 | react true | success true
AppendEntries: 2 < 3 | 1 vs 1 | react true | success true
AppendEntries: 2 - 1 | 1 vs 1
AppendEntries: 2 - 0 | 1 vs 1
AppendEntries: 2 - 3 | 1 vs 1
H< 2 1 12
H- 2 1 12 | nextIndex [2 2 1 2 2] | matchIndex [1 1 0 1 1] | lastLogIndex 1 | time 0.105699
H> 2 1 13
AppendEntries: 2 > 4
AppendEntries: 2 > 1
AppendEntries: 2 > 0
AppendEntries: 2 > 3
AppendEntries: 2 < 4 | 1 vs 1 | react true | success true
0 - follower | reset
AppendEntries: 2 < 3 | 1 vs 1 | react true | success true
AppendEntries: 2 < 1 | 1 vs 1 | react true | success true
4 - follower | reset
AppendEntries: 2 < 0 | 1 vs 1 | react true | success true
AppendEntries: 2 - 4 | 1 vs 1
3 - follower | reset
1 - follower | reset
AppendEntries: 2 - 1 | 1 vs 1
AppendEntries: 2 - 3 | 1 vs 1
AppendEntries: 2 - 0 | 1 vs 1
H< 2 1 13
H- 2 1 13 | nextIndex [2 2 1 2 2] | matchIndex [1 1 0 1 1] | lastLogIndex 1 | time 0.1065148
H> 2 1 14
AppendEntries: 2 > 4
AppendEntries: 2 > 1
AppendEntries: 2 > 3
AppendEntries: 2 > 0
AppendEntries: 2 < 4 | 1 vs 1 | react true | success true
AppendEntries: 2 < 1 | 1 vs 1 | react true | success true
AppendEntries: 2 < 3 | 1 vs 1 | react true | success true
3 - follower | reset
AppendEntries: 2 - 4 | 1 vs 1
AppendEntries: 2 < 0 | 1 vs 1 | react true | success true
AppendEntries: 2 - 1 | 1 vs 1
0 - follower | reset
4 - follower | reset
1 - follower | reset
AppendEntries: 2 - 0 | 1 vs 1
AppendEntries: 2 - 3 | 1 vs 1
H< 2 1 14
H- 2 1 14 | nextIndex [2 2 1 2 2] | matchIndex [1 1 0 1 1] | lastLogIndex 1 | time 0.1067481
H> 2 1 15
AppendEntries: 2 > 4
AppendEntries: 2 > 1
AppendEntries: 2 > 0
AppendEntries: 2 > 3
AppendEntries: 2 < 4 | 1 vs 1 | react true | success true
AppendEntries: 2 < 3 | 1 vs 1 | react true | success true
AppendEntries: 2 < 1 | 1 vs 1 | react true | success true
AppendEntries: 2 - 4 | 1 vs 1
3 - follower | reset
4 - follower | reset
AppendEntries: 2 - 3 | 1 vs 1
1 - follower | reset
0 - follower | reset
AppendEntries: 2 < 0 | 1 vs 1 | react true | success true
AppendEntries: 2 - 1 | 1 vs 1
AppendEntries: 2 - 0 | 1 vs 1
H< 2 1 15
H- 2 1 15 | nextIndex [2 2 1 2 2] | matchIndex [1 1 0 1 1] | lastLogIndex 1 | time 0.105691
H> 2 1 16
AppendEntries: 2 > 4
AppendEntries: 2 > 0
AppendEntries: 2 > 3
AppendEntries: 2 > 1
AppendEntries: 2 < 3 | 1 vs 1 | react true | success true
AppendEntries: 2 < 0 | 1 vs 1 | react true | success true
4 - follower | reset
AppendEntries: 2 < 4 | 1 vs 1 | react true | success true
1 - follower | reset
AppendEntries: 2 - 3 | 1 vs 1
AppendEntries: 2 < 1 | 1 vs 1 | react true | success true
3 - follower | reset
0 - follower | reset
AppendEntries: 2 - 0 | 1 vs 1
AppendEntries: 2 - 4 | 1 vs 1
AppendEntries: 2 - 1 | 1 vs 1
H< 2 1 16
H- 2 1 16 | nextIndex [2 2 1 2 2] | matchIndex [1 1 0 1 1] | lastLogIndex 1 | time 0.1057627
H> 2 1 17
AppendEntries: 2 > 4
AppendEntries: 2 > 1
AppendEntries: 2 > 3
AppendEntries: 2 > 0
AppendEntries: 2 < 4 | 1 vs 1 | react true | success true
AppendEntries: 2 < 1 | 1 vs 1 | react true | success true
AppendEntries: 2 - 4 | 1 vs 1
4 - follower | reset
1 - follower | reset
AppendEntries: 2 < 3 | 1 vs 1 | react true | success true
AppendEntries: 2 - 1 | 1 vs 1
0 - follower | reset
AppendEntries: 2 < 0 | 1 vs 1 | react true | success true
AppendEntries: 2 - 3 | 1 vs 1
3 - follower | reset
AppendEntries: 2 - 0 | 1 vs 1
H< 2 1 17
H- 2 1 17 | nextIndex [2 2 1 2 2] | matchIndex [1 1 0 1 1] | lastLogIndex 1 | time 0.1055944
H> 2 1 18
AppendEntries: 2 > 4
AppendEntries: 2 > 1
AppendEntries: 2 > 3
AppendEntries: 2 > 0
AppendEntries: 2 < 4 | 1 vs 1 | react true | success true
AppendEntries: 2 < 1 | 1 vs 1 | react true | success true
1 - follower | reset
AppendEntries: 2 < 0 | 1 vs 1 | react true | success true
0 - follower | reset
AppendEntries: 2 - 4 | 1 vs 1
4 - follower | reset
AppendEntries: 2 < 3 | 1 vs 1 | react true | success true
AppendEntries: 2 - 0 | 1 vs 1
AppendEntries: 2 - 1 | 1 vs 1
3 - follower | reset
AppendEntries: 2 - 3 | 1 vs 1
H< 2 1 18
H- 2 1 18 | nextIndex [2 2 1 2 2] | matchIndex [1 1 0 1 1] | lastLogIndex 1 | time 0.1066781
H> 2 1 19
AppendEntries: 2 > 4
AppendEntries: 2 > 1
AppendEntries: 2 > 3
AppendEntries: 2 > 0
AppendEntries: 2 < 1 | 1 vs 1 | react true | success true
3 - follower | reset
1 - follower | reset
AppendEntries: 2 < 0 | 1 vs 1 | react true | success true
AppendEntries: 2 - 1 | 1 vs 1
0 - follower | reset
4 - follower | reset
AppendEntries: 2 < 3 | 1 vs 1 | react true | success true
AppendEntries: 2 - 0 | 1 vs 1
AppendEntries: 2 < 4 | 1 vs 1 | react true | success true
AppendEntries: 2 - 3 | 1 vs 1
AppendEntries: 2 - 4 | 1 vs 1
H< 2 1 19
H- 2 1 19 | nextIndex [2 2 1 2 2] | matchIndex [1 1 0 1 1] | lastLogIndex 1 | time 0.1057166
H> 2 1 20
AppendEntries: 2 > 4
AppendEntries: 2 > 1
AppendEntries: 2 > 3
AppendEntries: 2 > 0
AppendEntries: 2 < 4 | 1 vs 1 | react true | success true
AppendEntries: 2 < 1 | 1 vs 1 | react true | success true
AppendEntries: 2 - 4 | 1 vs 1
3 - follower | reset
AppendEntries: 2 - 1 | 1 vs 1
1 - follower | reset
AppendEntries: 2 < 0 | 1 vs 1 | react true | success true
AppendEntries: 2 < 3 | 1 vs 1 | react true | success true
0 - follower | reset
4 - follower | reset
AppendEntries: 2 - 0 | 1 vs 1
AppendEntries: 2 - 3 | 1 vs 1
0 [{0 <nil>} {1 100}] 0
0 --test clear--
1 [{0 <nil>} {1 100}] 0
1 --test clear--
2 [{0 <nil>} {1 100}] 1
2 --test clear--
3 [{0 <nil>} {1 100}] 0
3 --test clear--
4 [{0 <nil>} {1 100}] 0
4 --test clear--
--- FAIL: TestBasicAgree2B1 (2.07s)
	config.go:465: one(100) failed to reach agreement
FAIL
exit status 1
FAIL	raft	2.269s
